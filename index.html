<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="jquery.fullPage.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="demoD3.js"></script>
    <script type="text/javascript" src="jquery.fullPage.min.js"></script>
    <script type="text/javascript" src="jquery.slimscroll.min.js"></script>
  </head>

  <body> 
    <div id="header">
      <ul id="myMenu">
        <li data-menuanchor="introAnchor" class="active"><a href="#introAnchor">     Introduction</a></li>
        <li data-menuanchor="resistanceAnchor">          <a href="#resistanceAnchor">The Resistance</a></li>
        <li data-menuanchor="analysisAnchor">            <a href="#analysisAnchor">  Analysis</a></li>
        <li data-menuanchor="demoAnchor">                <a href="#demoAnchor">      Demo</a></li>
        <li data-menuanchor="aboutAnchor">               <a href="#aboutAnchor">     About</a></li>
      </ul>
    </div>
    <div id="fullpage">
      <div id="intro" class="section"><div class="content">
          <h1>Introduction</h1> 
          <p>
          Welcome to our Multi-Agent Systems' Final Paper in the form of a (at the moment very ugly) website.
          </p>
          <p>
          We decided to devote our project to the analysis of the popular-amongst-its-players game of 
          <a href="https://en.wikipedia.org/wiki/The_Resistance_%28game%29">"The Resistance"</a>.
          </p>
          <p>
          On the next pages we will first explain the basic game + extentions, give our analysis and present you a piece of code that lets you create your own Kripke models.<br>
          The about page gives you some information about ourselves, meant for the stalkers among you.
          </p><p>
          Navigation can be done via the header-menu or the arrow keys. Some pages consist of several slides, indicated by the white arrows on the sides.
          </p>
        </div>
      </div>

      <div id="resistance" class="section"><div class="content">
          <h1>The Resistance</h1> 
          <h2>Game Description</h2>
          <p>
          The Resistance is a social deduction game, commonly compared to the games Werewolves and 
          Mafia, with a team of "Good" characters competing against a team of "Bad" or "Spy" characters. The 
          Spy characters know their fellow Spy characters, whereas the Good characters only know their own 
          roles. The game consists of up to five rounds, with each round giving one point to either the Good or Spy 
          team. The first team to get 3 points wins.</p><p>
          At the end of each round, a set of nominated players goes on a mission that requires 
          cooperation from everyone on the mission. A Good character will always cooperate, whereas a Spy 
          character has the option to sabotage the mission. If everyone on the mission team cooperates, then the 
          Good team gets a point. If any Spy character on the mission team sabotages it, then the Spy team gets 
          a point, and the Good team knows at least one team member was a Spy (but not which). </p><p>
          To choose the mission team, players go in a circle proposing teams of n players. If the majority 
          of the players approve of the team, then that team goes on the mission. Otherwise, the next player 
          proposes a team, and the process is repeated. If everyone's nomination gets rejected, then the Bad 
          team automatically wins. The size of the mission team, n, changes for each round. </p><p>
          In addition to the standard "Good" and "Spy" roles, there exists optional roles which add or 
          obscure knowledge in various ways: 
          <ul style="text-align: left">
            <li> A Good character, "Merlin", that knows who all the Spies are. However, if at any point the Spies know who Merlin is, the Spies instantly win. </li>
            <li> A Good character, "Percival", that knows Merlin and one Spy, but cannot distinguish between them.</li> 
            <li> A Spy character, "Mordred", that is unknown to Merlin. </li>
            <li> A Spy character, "Oberon", that is unknown to other Spies, and does not know the other Spies. </li>
            <li> A pair of characters, the "Lancelots", whose allegiance may switch at random moments in the game.</li>
          </ul>
          </p>
        </div>
      </div>

      <div id="analysis" class="section"><div class="slide"><div class="content">
            <h1>Analysis</h1> 
            <h2>Simple game</h2>  
            <p>
            Let us first look at the simplest version of the game. In this version, there are two Spies and three Good players, who will go on five missions. 
            Good Players will always succeed a mission, and Spies always have to fail if they're on a mission. 
            Although this might not be the most interesting way to play the game, 
            it is a little bit easier to analyze. We could use this analysis as a basis for more elaborate versions of the game.
            Initially, the Kripke model will look like this:
            </p>
            <div id="kripke" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var width = 400,
              height = 400;

              var color = d3.scale.category10();

              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var colorButtons = d3.select("#colorButtons");

              var ktable = d3.select("#ktable")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
            </script>
            <p>
            No player can distinguish between the worlds where they are not Spies themselves. 
            From a world where a player is a Spy, that world is also the only reachable world, since the player then knows the actual alignment of all the players.
            The names of the worlds in this model correspond to the players that are Spies. 
            For instance, in world (1, 2), player 1 and player 2 are Spies. 
            Now let's assume that propositional atom a stands for "player 1 is a Spy", b stands for "player 2 is a Spy", etcetera. 
            Then we can also say that in world (1, 2), a and b are both true, and therefore (a^b) holds.
            </p><p>
            In this version of the game, there are three distinct possibilities for the first mission: 
            a mission with one Spy, a mission with two Spies and a mission without any spies. 
            Let's look at all of these different possibilities. 

            If two Spies go on the first mission, they will both fail the mission. 
            In this case, everybody knows that the two Spies were on this mission. 
            Let's assume that those Spies were player 1 and 2. 
            The Kripke model will look like this afterwards:
            <div id="kripke2" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable2" class="ktable"><h3> Knowledge Table</h3></div>
            <script>

              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke2")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable2")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("12", 2, 1,1);
            </script>

            As you can see, only one possible world is left. This world is also the real world, where 1 and 2 are Spies. Since it is the only possible reachable world for all players, it is also common knowledge that 1 and 2 are Spies. In this case, the Good players have already won. They can just reject every mission with one of the Spies on it.
            Let us now look at one of the other cases, which is a little bit more interesting. If there are two Good players on the first mission, the mission succeeds. Let's say that player 3 and 4 went on this mission. Since there are no fails, every player now knows that players 3 and 4 are not Spies and that they are, in fact, Good. Therefore, the worlds where one of them is a Spy aren't possible for any of the players anymore. The Kripke model now looks like this:
            </p>
            <div id="kripke3" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable3" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke3")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable3")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("34", 0, 1,1);
            </script>
            </p><p>
            In this case, every player knows that between players 1, 2 and 5 there are two Spies. Player 5 now knows the true world. Since he knows he isn't a Spy himself, and he knows that 3 and 4 are not Spies, he can now deduce that player 1 and 2 are Spies. You can also see this in the Kripke model. World (1,2) is the only reachable world for player 5. Therefore, M<sub>1,2</sub> &#8872; K<sub>5</sub>(a&and;b). If 5 is not a Spy, e is not true. This is only the case in world (1, 2). In this world, (a&and;b) also holds. Thus, M &#8872; &not;e &rarr; (a&and;b). It is even the case that M &#8872; &not;e &rarr; K<sub>5</sub>(a&and;b). Intuitively, this also seems logical. Players now know that if player 5 is a Good guy, 1 and 2 are Spies, and 5 also knows this. The same can be said about 1 and 2.
            With two good players on the first mission, the Good Players can also always win. They can just put one of the three players that weren't on the first mission on the next missions to discern who the Spies are in at most two missions (which would result in at most two fails). If one of those missions fails, the players know that the player that wasn't player 3 or 4 is a Spy. If it doesn't, he must be Good. Let us look what happens with the knowledge when 3, 4 and 2 go on the second mission. Since 2 is a Spy, this mission will fail. Every world where one of the Spies isn't player 3, 4 and 2 is not reachable for any of the players after this mission. Since the worlds where player 3 or 4 were Spies are already gone, only worlds where player 2 is a Spy will remain. This results in the following Kripke model:
            </p>
            <div id="kripke4" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable4" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke4")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable4")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("34", 0, 1,1);
              missionResults("234", 1, 1,1);
            </script>
            <p>
            In all of the remaining worlds, b is true. Therefore, it is common knowledge that 2 is a Spy.
            On the next mission, the same tactic can be used to see what the alignment of player 1 or 5 is. This automatically reveals the alignment of the last unknown player. Everybody now knows who the Spies are and only one world will be left. The Good players can now leave the Spies out of the last mission, which will result in a victory for the Good team.
            There is one option left for the first mission, which is probably the most interesting one. If there is one Spy on the mission, the mission will fail, but players that were not on that mission will not know which of the two players was a Spy. Let us look at the case where 1 and 3 go on the first mission. After this mission, every world where 1 and 3 both aren't Spies and the world where they are both Spies won't be reachable anymore, and the Kripke model will look like this:
            </p>
            <div id="kripke5" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable5" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke5")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable5")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("13", 1, 1,1);
            </script>
            <p>
            As you can see, in all worlds that are reachable for player 3 where 3 is not a Spy himself, 1 is a Spy. We can therefore conclude that M &#8872; &not;c &rarr; K<sub>3</sub>a. The same can be said about 1. So, if player 1 was a Good player, he would now know 3 is a Spy.
            Since every player knows that 1 and 3 can't both be Spies, they know there must be at least one Spy amongst the remaining players. You can also see this in the Kripke model: in every world that is reachable for at least one agent, b, d or e is true. Therefore, we can say that M &#8872; (b&or;d&or;e). We assume that every player proposes and votes on missions as if they were a Good player, so it wouldn't make sense for any of the players to propose players 2, 4 and 5 together for the next mission. They already know there is one Spy amongst those players, so it will never gain them new information. Putting both 1 and 3 on the second mission doesn't make much sense either. It is already known that one of them is a Spy, so the mission will definitely fail. This will result in the second point for the Spies, but it still won't be possible to know if 1 or 3 is a Spy. Therefore, the Good players have a very small chance of winning if they do this. If we rule out the previous two teams out for mission two, three possibilities remain. 
            </p>
            <h4>1</h4>
            <p>
            If 3, 4 and 5 go on the second mission, the mission will succeed. This will mean that every world where 3, 4 or 5 was a Spy will not be possible for the players anymore. The only remaining world, then, is the one where 1 and 2 are Spies, so it becomes common knowledge that they are. The Good players have now won.
            <div id="kripke6" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable6" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke6")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable6")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("13", 1, 1,1);
              missionResults("345", 0, 1,1);
            </script>
            </p>
            <h4>2</h4>
            <p>
            The second possibility is that the second mission contains both of the Spies. If, for example, 1, 2 and 4 are put on a mission, the mission will show two fails. This will reveal that every player that wasn't on that mission can never be a Spy, so every world where they are will not be possible anymore. Since 3 wasn't on that mission and every world contained either 1 or 3 after the first mission, everybody can now conclude that player 1 is a Spy. This is also visible in the resulting Kripke model:
            </p>
            <div id="kripke7" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable7" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke7")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable7")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("13", 1, 1,1);
              missionResults("124", 2, 1,1);
            </script>
            <p>
            In all of the remaining worlds, a is true. Thus, M &#8872; a. This has now become common knowledge. Furthermore, from the model it follows that M &#8872; &not;d &rarr;  K<sub>4</sub>(a&and;b). In the true world, (1, 2), the Spies also know this, so, as you can see in the Kripke model, M<sub>12</sub> &#8872; K<sub>1</sub>(K<sub>4</sub>(a&and;b)) &and; K<sub>2</sub>(K<sub>4</sub>(a&and;b)). We can even conclude from the Kripke model that M &#8872; (&not;a &rarr; K<sub>1</sub>(K<sub>4</sub>(a&and;b))) &and; (&not;b &rarr; K<sub>2</sub>(K<sub>4</sub>(a&and;b))). Every player also knows this.
            Now, for the third mission it really depends who can propose a team. If player 1 proposes a team, it will never be accepted, since it's known he is a Spy. If player 2 can propose a team, it would probably be the most logical to put himself and player 3 or 5 on a mission. Let us assume player 2 chooses player 3 to go with him. We already concluded that player 4 knows that player 2 is a Spy, so he will reject this mission. Now, for players 3 and 5, it can be a bit complicated. You could say that, since they know the both of them are good guys, it would be in their best interest to only accept a team consisting of them both. This would, however, give them no new information at all. This would only postpone the difficult decision a mission. Therefore, it might be the most logical choice for them to accept 2's proposal. In that case, the mission will fail, and the Spies will win.
            </p><p>
            Now suppose that player 4 can propose a team. If this is the case, 4 will propose a team consisting of himself and player 3 or 5. We assume he chose 4 and 5. For 3 and 5, the reasoning we had in the case of the team with 2 and 3 still holds. They have no reason to reject this mission, so they can accept it. 4 will (naturally) also accept this team. The mission will succeed, so it will be known that 4 is a Good player. Since it was already known that 3 and 5 were Good, every player can now conclude that 1 and 2 are Spies. This will result in a victory for team Good.
            </p><p>
            If 3 or 5 can propose a team for the third mission, it basically comes down to chance. It would probably be best for them to propose a team consisting of themselves and player 2 or 4. Since they've got no way to distinguish between player 2 and 4, there is no reason to choose one over the other. We already saw the results for both of these teams, so they've basically got a 50% chance of winning. If this were a real game, players 3 and 5 would probably choose what to do based on social interaction.
            </p>
            <h4>3</h4>
            <p>
            Let us get back to the second mission. We still have to look at the case where it contains one Spy. This can be either 1 or 2. It would not be illogical to put 1, 4 and 5 on the second mission. In this case, the mission will fail. Therefore, all the worlds where one of them is not a Spy won't be possible anymore, and all the worlds with a combination of two of them are gone as well. This results in the following Kripke model:
            </p>
            <div id="kripke8" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable8" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke8")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable8")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("13", 1, 1,1);
              missionResults("145", 1, 1,1);
            </script>
            <p>
            As you can see, only three possible worlds remain. 4 and 5 can't distinguish between two of those. It is also interesting to see that 3 now knows the true state of the world. From (1, 2), 3 can not reach other worlds. Therefore, M<sub>12</sub> &#8872; K<sub>3</sub>(a&and;b). Since (1, 2) is also the remaining world where 3 isn't a Spy, we can also conclude that M &#8872; &not;c &rarr; K<sub>3</sub>(a&and;b). Every player also knows this. It also becomes apparent that M &#8872; K<sub>4</sub>((a&and;b)&or;(c&and;e)) and M &#8872; K<sub>5</sub>((a&and;b)&or;(c&and;d)).
            Now, for the third mission, it once again depends on who will propose the team. If player 1 or 2 proposes a team, it would be best for them to propose a team where they are on together. Player 3 will reject this, but for players 4 and 5, there's no real reason to reject this. The chances that this mission will succeed are just 50% for them. Only accepting missions where they are on themselves won't change this probability. Once again, it just comes down to a game of chance. If player 3 can propose a team, he will propose 3 and 5 or 3 and 4. 1 and 2 will always reject this mission. If they were Good, this would be a logical action, since then they would know that player 3 is a Spy. If they weren't Good, as is the case, it would be a logical action as well, because accepting that mission will make them lose the game. For players 4 and 5 it's once again just based on chance, since the same reasoning as before holds. 
            </p><p>
            The last possible option for mission two is that the team that goes on a mission consists of 2 and two other players. If we look at the case where 2, 3 and 4 go on a mission, we get the following Kripke model:
            </p>
            <div id="kripke9" class="kripke"><h3>Kripke Model    </h3></div>
            <div id="ktable9" class="ktable"><h3> Knowledge Table</h3></div>
            <script>
              // Width of the svg, and the table
              var force = d3.layout.force()
              .charge(-5000)
              .linkDistance(150)
              .friction(.95)
              .gravity(.18)
              .size([width, height]);

              var svg = d3.select("#kripke9")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

              var ktable = d3.select("#ktable9")
              .append("table")
              .attr("onmouseout", "colorMe()"),
              kheader = ktable.append("thead"),
              kbody = ktable.append("tbody");

              initKripke(2,3);
              missionResults("13", 1, 1,1);
              missionResults("234", 1, 1,1);
            </script>
            <p>
            This model looks quite similar to the model we saw in the previous case. The big difference is that, in this model, there is no Good player that knows the true state of the world. All of them have two worlds between which they can't see the difference. When proposing teams for the third mission, Good players now always have a 50% chance of choosing the right team. We can conclude that this is the worst scenario for them so far.
            It is interesting to see that, when there is one Spy on the first mission, it often becomes a game of chance for the Good players. Real games would probably be decided based on social interaction in those cases, or on voting behavior, which can especially give quite a lot away if players aren't completely rational agents. It is also worth noting that even when you limit the possibilities of the Spies by making them fail all missions, they still have a decent chance of winning the
            game. However, this chance does increase if they have a choice, which is what we'll be looking at on the next slide ->
            </p>
          </div>
        </div>
        <!-- END FIRST ANALYSIS SLIDE -->
        <div class="slide"><div class="content">
            <h1>Failing or succeed the first mission</h1>
            <p>
            For our last analysis, we looked at the simplest version of the game, where Spies had to fail every mission they were on. We're now going to make it a little bit complicated: we're going to give Spies the freedom of choice. This will probably result in more interesting games, and it gives rise to some new possible game-states. Analyzing all new possibilities will take a lot of time, and might not be that interesting. Therefore, we have centered our analysis around a specific question: is it better for Spies to fail or succeed the first mission? If a Spy is on the first mission, it might seem like a good idea to fail the mission. It gives the Spy team a point, which is already one third of a victory, and it puts the Good team on a timer to find out who the Spies are. On the other hand, it does give the Good team a lot of information. They can already rule out quite a lot of possibilities and they are a lot closer to finding out the identity of one of the Spies. So the question is: what is usually the better play for a Spy?
            </p>
            <p>
            <h2>Failing the first mission:</h2>
            For a Spy to fail or succeed the first mission, it naturally has to be the case that there is at least one Spy on this mission so we're not going to look at teams with just Good players. If both of the Spies go on the first mission together, failing it would probably not be the best idea for agents who can't communicate. There is a chance that both of them will fail, which will result in the fact that all players know who the Spies are, resulting in a loss for the Spies. We can assume that, in a game where players can't communicate, it might be best for both Spies to succeed the mission.  <br>
            The most interesting case is probably when there is only one Spy on the first mission. Then, the consideration mentioned before comes into play. For our analysis, we'll just look at the different possibilities and their outcomes.<br>
            Let us first look at the case where the Spy fails the mission. Once again, we assume player 1 and 2 are Spies and that 1 and 3 go on the first mission. If 1 fails this mission, the result will not be exactly the same as our previous analysis. The difference is that the world where 1 and 3 are both Spies is still a possibility for some agents. This is what the Kripke model will look like:<br><br>

            Even though the Good players gained a lot of information, they know less than in the previous analysis. It is, however, still the case that M &#8872; &not;c &rarr; K<sub>3</sub>a. To put it into words, 3 now knows that 1 is a Spy, and all other Good players know that 1 or 3 is a Spy.
            For mission two, there are once again three options for the members of the team: two Spies, one Spy or no Spies. In the case where there are no Spies, the mission succeeds. This doesn't, however, give the Good players any new information. It might just be the case that there were Spies on the mission who succeeded it. This is the case for all missions that succeed: they never give out any new information. If the second mission succeeds, the Kripke model stays the same as after the first mission. Now, there are the same three options once again. Players probably wouldn't put player 1 and 3 on this third mission, because they know for sure that there's a Spy between them. It would be possible that there's no Spies on this mission and it succeeds. In that case, the Good players have already almost won: they just have to win one more mission.Therefore, the Spies have to fail the last two missions in order to win. So let's assume that there's at least one Spy on the fourth mission. 2, 4 and 5 are selected for this mission, and it fails. This means that it can't be the case that 1 and 3 are both Spies, so world (1,3) becomes unreachable. As you can already imagine, this gives very little new information to the Good players. In that case, we play the game of chance again for the last mission. The chances of a team solely consisting of Good guys going on the last mission are pretty small. In this chain of events, the Spies have quite a good chance of winning the game.<br>
            Let's revisit mission four. If 1, 2 and 5 go on this mission,  only one outcome would really change things. If there's one fail, there's only one world that becomes unreachable. It's not possible anymore that 3 and 4 are both Spies, but nothing else changes. Then, we're back at our game of chance, although the chances are a little bit better than in the previous case. <br>
            We already saw that a succeeding mission isn't interesting, so the last possibility is that both Spies fail the mission. That leaves us with only two worlds: (1, 2) and (1, 5). 3 and 4 have no way to distinguish between player 2 and 5, so, once again, the last mission is based on chance. However, in this case, the chances are 50/50, so the future looks a lot brighter for  the Good players. It's also interesting to note that M &#8872; a, and everybody also knows this, since it is true in all reachable worlds.<br><br>

            Let us go back to the third mission. We looked at the case where it succeeded, but a failed mission is also a possibility. There are quite a few options, and we won't look at all of them. In the case of two Spies who both fail, the Spies are known to the Good players, and the game is over. In all other cases, four possible worlds remain. We'll look at one of these cases. If 2 and 4 go on a mission, the resulting Kripke model is this one:<br><br>

            There's only one thing for certain: 5 is not a Spy. Therefore, M &#8872; &not;e. Since this is true in all worlds reachable for all players in any number of steps, this is common knowledge. The fourth mission has to succeed for the Good players to win the game. If the mission succeeds, the players on it have to be Good, since Spies who would succeed this mission are not rational agents. But what do the Good players know? They know 5 isn't a Spy, so he has to be included. There are also some other things that can be said. You can see from the Kripke model that the following holds: M<sub>12</sub> &#8872; K<sub>3</sub>a. 3 now knows that 1 is a Spy. The same can be said about 4 and 2: M <sub>12</sub> &#8872; K<sub>4</sub>b. Everybody also know this, which we can see from the fact that M &#8872; &not;c &rar; K<sub>3</sub>a and M &#8872; &not;d &rar; K<sub>4</sub>b hold. The only player that doesn't know any allegiance except for his own is player 5. <br>
            If the Spies can now propose a team, they have to include player 5 to possibly get that third vote they need to approve of the team. For the Good players, it's a 50% chance they only choose Good players at best. Once again, the Spies have quite a decent chance of winning the game.<br><br>

            Now let us go way back, to the second mission of this game. We assumed that it succeeded, but what happens when it fails? Basically, the resulting Kripke models will be the same as when the second and third mission succeeded, and the fourth one failed. In that case, the information didn't change in the two succeeding missions, so the second mission was basically postponed. The big difference is that the third mission is, in this case, not necessarily a decisive mission. If there's a Spy on that mission, the mission will definitely fail and the Spies will win. However, if it's just Good players, there's still no consensus about who the last Good player is, so the Spies still have a chance to win. If, for example, 2, 4 and 5 went on the second mission and 4 and 5 go on the third mission, this will be the resulting Kripke model:<br><br>

            As you can see, there's still more than one option for players 4 and 5. It must be said that for every team that isn't 4 and 5, there is a decisive victor.<br>
            We went through all possible (interesting) options if Spies fail the first mission. It seemed as if the Spies have quite a decent chance of winning in a lot of them. Let us now look what happens when Spies succeed the first mission.
            </p>


            <h2>Succeeding the first mission:</h2>

            If the first mission succeeds, it doesn't even matter who was on it. It is impossible to gain any information from it, as we already saw previously. You could argue that it is a bad move for a Spy to succeed this mission. It doesn't give the Spies any points and they are put on a disadvantage. However, it can also be said that failing two player missions gives away more information than failing three player missions. Let's see if this is true.<br>
            If 1, 3 and 4 go on the second mission and 1 will fail it, Good players don't gain an awful lot of information. They just know that  there is at least one Spy amongst the members of that team. This will result in the following Kripke model:<br><br>

            Only world (2, 5) will "disappear", so very little knowledge is gained. Nobody will know anything useful yet.<br>
            The next mission is a two player mission once again. If there's one fail, there's at least six worlds left, and at most eight. In the best possible scenario for the Good guys, 2 and 5 will go on a mission and the resulting Kripke model will be this one:<br><br>


            As you can see, it doesn't look too good for the Good guys. Nobody knows anything for certain yet, and there are still a lot of possibilities. The Good players do have to propose a team with just Good players for the fourth mission to have any chance of winning the game. The odds are, however, not in their favour.<br>
            Now let's see what happens when the third mission succeeds. This will give nobody any information, and it will put the Good players on two points. Therefore, Spies will have to fail all of the next mission. If there's one Spy on the fourth one, the mission will fail and at most one world will become unreachable. The Kripke model where 1, 2 and 5 go on the fourth mission, for example, looks like this:<br><br>

            It becomes apparent that the Good players don't have a lot of knowledge, so the last mission becomes a guessing game once again. It doesn't really get any better for the Good players in the other cases where there's one fail on the mission. The only way in which it could go better is if there's two Spies and both of them fail. This leaves at most three, and at least two worlds. Even though it's still a guess for the Good players on the last mission, the odds are now much better for them.

            <h2>Conclusions</h2>
            As you can probably tell, the chances of the Spies winning the game become much higher when they don't necessarily have to fail a mission. They can deceive the Good players and give them as little information as possible. But did it turn out to be better to fail, or succeed the first mission?  Although it is hard to say for certain, it looks like it's better to succeed the first mission and fail the second one. Failing the second one doesn't give away nearly as much information, and in most of the resulting cases, the Spies have a very good chance of winning. There's also not as much of a chance of Good players definitely knowing that a player is a Spy.<br>
            This does, however, depend on which teams are proposed and accepted. To get a full, statistical overview of which decisions are the best, you need to look at all of the different possibilities for the team proposals as well. The problem is that this generates an awful lot of different possibilities, so it's not in the scope of this project.<br>
            One last thing to note is that a lot of the (final) decisions in the game seem to be based on chance. In real games, however, these will probably be based on social interactions. In a real game, it's a bit harder for the Spies to win because they have to deceive the other players, and they have to keep a straight face and not make mistakes in their voting behavior. For rational agents though, it looks like the odds are in the favor of the Spies.
          </div>
        </div>
        <!-- END SECOND ANALYSIS SLIDE -->
      </div>


      <div id="demo" class="section">
        <div class="content">
          <div id="kripke0" class="kripke"><h3>Kripke Model   </h3></div>
          <div id="ktable0" class="ktable"><h3>Knowledge Table</h3></div>
          <div id="controls">
            <form>
              <input type="text" name="missionTeam" placeholder="Mission team?" /> <br />
              <input type="number" name="numFails" placeholder="Number of fails?" /> <br />
              <label><input type="checkbox" name="forceFail" />Force spies to fail?</label> <br />
              <label><input type="checkbox" name="seeFails" />See number of fails?</label> <br />
              <!-- this is horrendous... -->
              <input type="button" onclick="missionResults(missionTeam.value, numFails.value, forceFail.checked, seeFails.checked)" value="Go on a mission!" />
            </form>
          </div>
        </div>
        <script>
          var colorButtons = d3.select("#colorButtons");

          var force = d3.layout.force()
          .charge(-5000)
          .linkDistance(150)
          .friction(.95)
          .gravity(.18)
          .size([width, height]);

          var svg = d3.select("#kripke0")
          .append("svg")
          .attr("width", width)
          .attr("height", height);

          var ktable = d3.select("#ktable0")
          .append("table")
          .attr("onmouseout", "colorMe()"),
          kheader = ktable.append("thead"),
          kbody = ktable.append("tbody");

          initKripke(2,3);
        </script>
      </div>

      <div id="about" class="section"><div class="content">
          <h2>This page is all about us :) </h2>
        </div>
      </div>

    </div>
    <script>
      $(document).ready(function() {
        $('#fullpage').fullpage({ 
          anchors: ['introAnchor', 'resistanceAnchor', 'analysisAnchor', 'demoAnchor', 'aboutAnchor', 'lastpageAnchor'],
          sectionsColor: ['#1BBC9B','#1BBC9B','#1BBC9B','#1BBC9B','#1BBC9B'],
          menu: '#myMenu',
          scrollOverflow: true,
        });
      });
    </script>
  </body>
</html>
